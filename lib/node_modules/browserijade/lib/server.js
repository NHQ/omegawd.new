var fs, jade, middleware, renderFile, renderString, _;

fs = require('fs');

_ = require('underscore');

middleware = require('./middleware');

jade = require('jade');

renderString = function(template) {
  return eval(template);
};

renderFile = function(path, locals, callback) {
  if (locals == null) locals = {};
  path = "/" + path + ".jade";
  return fs.readFile(path, 'utf8', function(template) {
    var compiled;
    compiled = jade.compile(template, {
      locals: locals
    });
    return callback(compiled());
  });
};

module.exports = middleware;

_.extend(module.exports, {
  renderString: renderString,
  renderFile: renderFile
});
